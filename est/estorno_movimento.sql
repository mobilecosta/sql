select SB8.B8_SALDO, SD3.D3_QUANT, SB2.B2_QATU, SB2.B2_QEMP, SB2.B2_RESERVA, SD3.D3_LOTECTL, SD3.* from SD3010 SD3
  JOIN SB2010 SB2 ON SB2.D_E_L_E_T_ = ' ' AND SB2.B2_COD = SD3.D3_COD AND SB2.B2_LOCAL = SD3.D3_LOCAL
  JOIN SB8010 SB8 ON SB8.D_E_L_E_T_ = ' ' AND SB8.B8_PRODUTO = SD3.D3_COD AND SB8.B8_LOTECTL = SD3.D3_LOTECTL 
 WHERE SD3.D_E_L_E_T_ = ' ' AND SD3.D3_EMISSAO = '20121204' AND SD3.D3_TM = '014' AND SD3.D3_ESTORNO = ' '
 ORDER BY SD3.D3_COD;

select * from SD3010 WHERE D3_EMISSAO = '20121220';
 
SELECT * FROM SB8010 WHERE D_E_L_E_T_ = ' ' AND B8_PRODUTO = 'PNUP.0010.04.MP' AND B8_SALDO > 0; 

-- Saldo do Lote
SELECT * FROM SB8010 WHERE D_E_L_E_T_ = ' ' AND B8_PRODUTO = 'PNUP.0007.03.MP' AND B8_LOTECTL = 'AUTO001760';

-- Movimento do Lote
SELECT * FROM SD5010 WHERE D_E_L_E_T_ = ' ' AND D5_PRODUTO = 'PNUP.0007.03.MP' AND D5_LOTECTL = 'AUTO001760';

SELECT * FROM SD4010 WHERE D_E_L_E_T_ = ' ' AND D4_COD = 'PNUP.0007.03.MP';

SELECT * FROM SB8010 WHERE D_E_L_E_T_ = ' ' AND B8_PRODUTO = 'PNUP.0007.03.MP' AND B8_SALDO > 0;

SELECT * FROM SD5010 WHERE D_E_L_E_T_ = ' ' AND D5_PRODUTO = 'PNUP.0007.03.MP' AND D5_LOTECTL = 'AUTO001879';

SELECT * FROM SD4010 WHERE D_E_L_E_T_ = ' ' AND D4_OP = 'MSDJ6E01001' AND D4_COD IN ('PNUP.0007.03.MP', 'PNUP.0010.04.MP', 'PNUP.0007.05.MP', 'PNUP.0007.07.MP');

SELECT * FROM SD4010 WHERE D_E_L_E_T_ = ' ' AND D4_COD = 'PNUP.0010.04.MP';

SELECT * FROM SD4010 WHERE D_E_L_E_T_ = ' ' AND D4_OP = 'MSDJ6401001' AND D4_COD IN ('PNUP.0007.03.MP', 'PNUP.0010.04.MP', 'PNUP.0007.05.MP', 'PNUP.0007.07.MP');

SELECT * FROM SB8010 WHERE D_E_L_E_T_ = ' ' AND B8_LOTECTL = 'AUTO001879';